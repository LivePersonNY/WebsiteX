!function($){function e(r,s,n,o){if(++s>Number(r.offset)+Number(r.number_requests)-1)return r.onFinished(),!0;var t=$.extend({current_index:s},r.data);$.ajax({url:r.url,type:r.type,async:!0,cache:r.cache,dataType:r.dataType,data:t,success:function(t){var u=r.onRequestSuccess(t,s);if(t.success)n.progressbar("value",Number((s+1)/r.number_requests*100)),$(o).text(s+1);else{if(1==r.stop_on_error)return void r.onFinished();0==r.stop_on_error&&s--}u?t.success?e(r=r.updateSettings(r),s,n,o):setTimeout((function(){e(r,s,n,o)}),r.wait):r.onFinished()},error:function(t,u,a){var i=r.onRequestError(t,u,a,s);1!=r.stop_on_error?(0==r.stop_on_error&&s--,i?setTimeout((function(){e(r,s,n,o)}),r.wait):r.onFinished()):r.onFinished()}})}$.fn.synchronous_request=function(r){var s=$.extend({url:"",number_requests:0,offset:0,data:{},wait:5e3,stop_on_error:0,progress_bar:".progress-bar",progress_count:"#progress-number",type:"post",cache:!1,dataType:"json",onRequestSuccess:function(e){},onRequestError:function(e,r,s){},onFinished:function(){}},r);progressbar=$(this).progressbar({value:0}),e(s,-1+Number(s.offset),progressbar,s.progress_count)}}(jQuery);